const Discord = require('discord.js');
const client = new Discord.Client();




client.login('NTE1OTUxNjAwMTU0NzA1OTYw.Dt8Q9g.YSpfvBnJCe8IoWkIrizmWvBvK6o'); 



client.on('ready',  () => {
  console.log('~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~'); 
  console.log('by mohamed');
  console.log('~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~');
  console.log(`Logged in as  * [ " ${client.user.username} " ] servers! [ " ${client.guilds.size} " ]`);
  console.log('~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~');
  console.log('is online')
client.user.setStatus("dnd");
});

// playing
client.on('ready', () => {                           
client.user.setGame(``,'https://www.twitch.tv/tarikrs');                                                                                                                                                                                                                                                                                                                                                                                                                             client.user.setGame(`-help | On 20 Servers`,'https://www.twitch.tv/v5bz');
});          








client.on('message', message => {
     if (message.content === "Ø§ÙˆØ§Ù…Ø± Ø¨Ø±ÙˆØ¯ÙƒØ§Ø³Øª") {
message.author.send("**Ù„Ù€ Ø§Ø±Ø³Ø§Ù„ Ø±Ø³Ø§Ù„Ø© Ù„Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø§Ø¹Ø¶Ø§Ø¡ : !bc**" + `  **
Ù„ Ø¹Ù…Ù„ ØªÙŠÙƒÙŠØª :new 
Ù„Ù…Ø³Ø­ Ø§Ù„Ø´Ø§Øª !Ù…Ø³Ø­ ÙˆØ¹Ø¯Ø¯ Ø§Ù„Ø±Ø³Ø§Ø¦Ù„ Ø§Ù„Ù…Ø±Ø§Ø¯ Ù…Ø³Ø­Ù‡Ø§ 
Ù„Ù€ Ù‚ÙÙ„ Ø§Ù„ØªÙŠÙƒÙŠØª !close 
Ù„Ù€ Ø§Ù†Ø´Ø§Ø¡ Ø§Ù„ÙˆØ§Ù† !cc Ø¹Ø¯Ø¯ Ø§Ù„Ø§Ù„ÙˆØ§Ù† 
Ø­ØµÙˆÙ„ Ø¹Ù„ÙŠ Ø±ØªØ¨Ù‡ Ø±ÙŠÙ…Ø¨Ùˆ  ÙŠØ¬Ø¨ Ø§ÙˆÙ„Ø§ Ø§Ù„Ø­ØµÙˆÙ„ Ø¹Ù„ÙŠ [Premuim] Ù„ØªÙØ¹ÙŠÙ„ Ø§Ù„Ø¨Ø±ÙŠÙ…ÙŠÙˆÙ… ØªÙˆØ§ØµÙ„ Ù…Ø¹ [Spriggan#8847
#8847
**`);
    }
});    
client.on('message', message => {
    var prefix = "!";
   
        if (message.author.id === client.user.id) return;
        if (message.guild) {
       let embed = new Discord.RichEmbed()
        let args = message.content.split(' ').slice(1).join(' ');
    if(message.content.split(' ')[0] == prefix + 'bc') {
        if (!args[1]) {
    message.channel.send("*bc <message>");
    return;
    }
            message.guild.members.forEach(m => {
       if(!message.member.hasPermission('ADMINISTRATOR')) return;
                var bc = new Discord.RichEmbed()
                .addField('Â» Ø§Ù„Ø³ÙŠØ±ÙØ± :', `${message.guild.name}`)
                .addField('Â» Ø§Ù„Ù…Ø±Ø³Ù„ : ', `${message.author.username}#${message.author.discriminator}`)
                .addField(' Â» Ø§Ù„Ø±Ø³Ø§Ù„Ø© : ', args)
                .setColor('#ff0000')
                // m.send(`[${m}]`);
                m.send(`${m}`,{embed: bc});
            });
        }
        } else {
            return;
        }
    }); 
	client.on('message', message => {
 var prefix = "!"
if (message.content.toLowerCase().startsWith(prefix + `new`)) {
    const reason = message.content.split(" ").slice(1).join(" ");
    if (!message.guild.roles.exists("name", "Support Team")) return message.channel.send(`This server doesn't have a \`Support Team\` role made, so the ticket won't be opened.\nIf you are an administrator, make one with that name exactly and give it to users that should be able to see tickets.`);
    if (message.guild.channels.exists("name", "ticket-" + message.author.id)) return message.channel.send(`ÙŠÙˆØ¬Ø¯ Ø¨Ø§Ù„ÙØ¹Ù„ ØªÙƒØª Ù…ÙØªÙˆØ­.`);
    message.guild.createChannel(`ticket-${message.author.id}`, "text").then(c => {
        let role = message.guild.roles.find("name", "Support Team");
        let role2 = message.guild.roles.find("name", "@everyone");
        c.overwritePermissions(role, {
            SEND_MESSAGES: true,
            READ_MESSAGES: true
        });
        c.overwritePermissions(role2, {
            SEND_MESSAGES: false,
            READ_MESSAGES: false
        });
        c.overwritePermissions(message.author, {
            SEND_MESSAGES: true,
            READ_MESSAGES: true
        });
        message.channel.send(`:white_check_mark: Your ticket has been created, #${c.name}.`);
        const embed = new Discord.RichEmbed()
        .setColor(0xCF40FA)
        .addField(`Hey ${message.author.username}!`, `Ù†Ø±Ø¬Ùˆ ØªÙˆØ¶ÙŠØ­ Ø§Ù„Ø³Ø¨Ø¨ , Ø³ÙŠÙƒÙˆÙ† ÙØ±ÙŠÙ‚ Ø§Ù„Ø¯Ø¹Ù… Ù‡Ù†Ø§ Ù‚Ø±ÙŠØ¨Ø§ Ù„Ø®Ø¯Ù…ØªÙƒ.`)
        .setTimestamp();
        c.send({ embed: embed });
    }).catch(console.error);
}
if (message.content.toLowerCase().startsWith(prefix + `close`)) {
    if (!message.channel.name.startsWith(`ticket-`)) return message.channel.send(`You can't use the close command outside of a ticket channel.`);

    message.channel.send(`Are you sure? Once confirmed, you cannot reverse this action!\nTo confirm, type \`-confirm\`. This will time out in 10 seconds and be cancelled.`)
    .then((m) => {
      message.channel.awaitMessages(response => response.content === '-confirm', {
        max: 1,
        time: 10000,
        errors: ['time'],
      })
      .then((collected) => {
          message.channel.delete();
        })
        .catch(() => {
          m.edit('Ticket close timed out, the ticket was not closed.').then(m2 => {
              m2.delete();
          }, 3000);
        });
    });
}

});

client.on('message', msg => {
	var prefix = "!";
  if (msg.author.bot) return;
  if (!msg.content.startsWith(prefix)) return;
  let command = msg.content.split(" ")[0];
  command = command.slice(prefix.length);
  let args = msg.content.split(" ").slice(1);

    if(command === "Ù…Ø³Ø­") {
        const emoji = client.emojis.find("name", "wastebasket")
    let textxt = args.slice(0).join("");
    if(msg.member.hasPermission("MANAGE_MESSAGES")) {
    if (textxt == "") {
        msg.delete().then
    msg.channel.send("***```Ø¶Ø¹ Ø¹Ø¯Ø¯ Ø§Ù„ÙƒÙ„Ù…Ø§Øª Ø§Ù„ØªÙŠ ØªØ±ÙŠØ¯ Ù…Ø³Ø­Ù‡Ø§```***").then(m => m.delete(3000));
} else {
    msg.delete().then
    msg.delete().then
    msg.channel.bulkDelete(textxt);
        msg.channel.send("```Cleard: " + textxt + "\n Messages```").then(m => m.delete(3000));
        }    
    }
}
});

client.on('message', message => {
    if(!message.channel.guild) return;
var prefix = "!";
if(message.content.startsWith(prefix + 'ch')) {
    let channel = message.channel
    var embed = new Discord.RichEmbed()
      .setTitle("Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ø±ÙˆÙ…")
      .setColor("RANDOM")
      .setDescription(`Ø§ÙŠØ¯ÙŠ Ø§Ù„Ø±ÙˆÙ… <#${channel.id}>\nChannel ID: ${channel.id}`)
      .addField("ØµÙ†Ø¹ ÙÙŠ", `${channel.createdAt}`)
      .addField("Ù†ÙˆØ¹ Ø§Ù„Ø±ÙˆÙ…", `${channel.type}`)
      .addField("Extra Information", `Channel is NSFW => ${channel.nsfw}\nChannel Topic=> ${channel.topic}\nChannel Parent => ${channel.parent}\nChannel Position => ${channel.position}`)
 
     message.channel.send({ embed: embed });
  }
 
    });
	
	client.on("ready", () => {
  function lol() {
    client.guilds.get('518012022500229122').roles.find("name", "RainBoww").setColor("RANDOM");
  };
  setInterval(lol, 1600);
});

client.on('message', message => {
var prefix = "!";
      if(message.content === prefix + "Ù‚ÙÙ„") {
      if(!message.channel.guild) return;
      if(!message.member.hasPermission('ADMINISTRATOR')) return message.reply('You Dont Have Perms âŒ');
             message.channel.overwritePermissions(message.guild.id, {
             READ_MESSAGES: false
 })
              message.channel.send('ØªÙ… Ø§Ø®ÙØ§Ø¡ Ø§Ù„Ù‚Ù†Ø§Ù‡ , Ù„Ø§ ÙŠÙ…ÙƒÙ† Ù„Ø§ÙŠ Ø¹Ø¶Ùˆ ÙƒØªØ§Ø¨Ù‡ Ø§ÙŠ Ø´Ø¦ ! âœ…  ')
 }
});


client.on('message', message => {
var prefix = "!";
      if(message.content === prefix + "ÙØªØ­") {
      if(!message.channel.guild) return;
      if(!message.member.hasPermission('ADMINISTRATOR')) return message.reply('âŒ');
             message.channel.overwritePermissions(message.guild.id, {
             READ_MESSAGES: true
 })
              message.channel.send('ØªÙ… ÙØªØ­ Ø§Ù„Ù‚Ù†Ø§Ù‡ , ÙŠÙ…ÙƒÙ† Ù„Ø§ÙŠ Ø¹Ø¶Ùˆ Ø§Ø±Ø³Ø§Ù„ Ø±Ø³Ø§Ù„Ø© ÙˆØ§Ù„ÙƒØªØ§Ø¨Ù‡ âœ… ')
 }
});

      client.on('message', message => {
                                if(!message.channel.guild) return;
                        if (message.content.startsWith('*ping')) {
                            if(!message.channel.guild) return;
                            var msg = `${Date.now() - message.createdTimestamp}`
                            var api = `${Math.round(client.ping)}`
                            if (message.author.bot) return;
                        let embed = new Discord.RichEmbed()
                        .setAuthor(message.author.username,message.author.avatarURL)
                        .setColor('RANDOM')
                        .addField('**Time Taken:**',msg + " ms ğŸ“¶ ")
                        .addField('**WebSocket:**',api + " ms ğŸ“¶ ")
         message.channel.send({embed:embed});
                        }
                    });

 client.on('message', ra3d => {
var prefix = "!";
                        let args = ra3d.content.split(" ").slice(1).join(" ")
if(ra3d.content.startsWith(prefix + 'cc')) {
    if(!args) return ra3d.channel.send('`ÙŠØ±Ø¬ÙŠ Ø§Ø®ØªÙŠØ§Ø± ÙƒÙ… Ù„ÙˆÙ† `');
             if (!ra3d.member.hasPermission('MANAGE_ROLES')) return ra3d.channel.sendMessage('`**âš  | `[MANAGE_ROLES]` Ù„Ø§ ÙŠÙˆØ¬Ø¯ Ù„Ø¯ÙŠÙƒ ØµÙ„Ø§Ø­ÙŠØ©**'); 
              ra3d.channel.send(`**âœ… |ØªÙ… Ø§Ù†Ø´Ø§Ø¡ __${args}__ Ù„ÙˆÙ†**`);
                  setInterval(function(){})
                    let count = 0;
                    let ecount = 0;
          for(let x = 1; x < `${parseInt(args)+1}`; x++){
            ra3d.guild.createRole({name:x,
              color: 'RANDOM'})
              }
            }
       });
	
client.on('guildMemberAdd', member => {
    let channel = member.guild.channels.find('name', 'welcome');
    let memberavatar = member.user.avatarURL
      if (!channel) return; 
    let embed = new Discord.RichEmbed()
        .setColor('RANDOM')
        .setThumbnail(memberavatar)
        .addField(':running_shirt_with_sash: | name :  ',`${member}`)
        .addField(':loudspeaker: | Ù†ÙˆØ±Øª Ø§Ù„Ø³ÙŠØ±ÙØ± ÙŠ Ù‚Ù„Ø¨ÙŠ' , `Welcome to the server, ${member}`)
        .addField(':id: | user :', "**[" + `${member.id}` + "]**" )
                .addField('â¡| Ø§Ù†Øª Ø§Ù„Ø¹Ø¶Ùˆ Ø±Ù‚Ù…',`${member.guild.memberCount}`)
               
                  .addField("Name:",`<@` + `${member.id}` + `>`, true)
                      
                                     .addField(' Ø§Ù„Ù€Ø³ÙŠØ±ÙØ±', `${member.guild.name}`,true)
         });

client.on("message", msg => {
  if(msg.content === '!' + "id") {
      const embed = new Discord.RichEmbed();
  embed.addField("ğŸ”±| Ø§Ø³Ù… Ø§Ù„Ø­Ø³Ø§Ø¨ :", `${msg.author.username}#${msg.author.discriminator}`, true)
          .addField("ğŸ†”| Ø§Ù„Ø§ÙŠ Ø¯ÙŠ :", `${msg.author.id}`, true)
          .setColor("RANDOM")
          .setFooter(msg.author.username , msg.author.avatarURL)
          .setThumbnail(`${msg.author.avatarURL}`)
          .setTimestamp()
          .setURL(`${msg.author.avatarURL}`)
          .addField('ğŸ“›| Ø§Ù„Ø­Ø§Ù„Ø© :', `${msg.author.presence.status.toUpperCase()}`, true)
          .addField('ğŸ²| Ø¨Ù„Ø§ÙŠÙ†Ø¬ :', `${msg.author.presence.game === null ? "No Game" : msg.author.presence.game.name}`, true)
          .addField('ğŸ…| Ø§Ù„Ø±ØªØ¨ : ', `${msg.member.roles.filter(r => r.name).size}`, true)
          .addField('ğŸ“…| ØªÙ… Ø§Ù„Ø§Ù†Ø¶Ù…Ø§Ù… Ù„Ù„Ø¯ÙŠØ³ÙƒÙˆØ±Ø¯ ÙÙŠ :', `${msg.createdAt}`,true)
          .addField('ğŸ¤–| Ù‡Ù„ Ù‡Ùˆ Ø¨ÙˆØª ØŸ', `${msg.author.bot.toString().toUpperCase()}`, true);
      msg.channel.send({embed: embed})
  }
});

 client.on('message',function(message) {
        if (message.author.bot) return;
      var prefix = "!";
                        if(!message.channel.guild) return;
      
                          if (message.content === prefix + "fm") {
       const embed = new Discord.RichEmbed()
      
          .setDescription(`**Members info :sparkles:
      :green_heart: online:   ${message.guild.members.filter(m=>m.presence.status == 'online').size}
      :heart:  dnd:       ${message.guild.members.filter(m=>m.presence.status == 'dnd').size}
      :yellow_heart:  idle:     ${message.guild.members.filter(m=>m.presence.status == 'idle').size}
      :diamond_shape_with_a_dot_inside:   membersCount:  ${message.guild.memberCount - message.guild.members.filter(m=>m.user.bot).size}
      :bulb: bots: ${message.guild.members.filter(m=>m.user.bot).size} **`)
               message.channel.send({embed});
      
          }
            });
